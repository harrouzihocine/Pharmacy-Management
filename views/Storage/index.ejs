<% layout('layouts/boilerplate') %>
<div class="storage-table-container">
  <h1>List of Services</h1>
  <table class="storage-table">
    <thead>
      <tr>
        <th>Code</th>
        <th>Service</th>
        <th>Location type</th>
        <th>NÂ° of Storages</th>
        <th>Filter</th>
      </tr>
    </thead>
    <tbody>
      <% for (service of services) { %>
        <tr>
          <!-- Display service abbreviation, but use serviceId (MongoDB _id) for redirection -->
          <td onclick="window.location.href='/storage/<%= service.serviceABV %>/storages'" style="cursor: pointer;">
            <%= service.serviceABV %> <!-- Display the abbreviation -->
          </td>
          <!-- Display service name, but use serviceId (MongoDB _id) for redirection -->
          <td onclick="window.location.href='/storage/<%= service.serviceABV %>/storages'" style="cursor: pointer;">
            <%= service._id %> <!-- Display the service name -->
          </td>
          <td onclick="window.location.href='/storage/<%= service.serviceABV %>/storages'" style="cursor: pointer;">
            <%= service.locationType %> <!-- Display the service name -->
          </td>
          <!-- Display storage count -->
          <td onclick="window.location.href='/storage/<%= service.serviceABV %>/storages'" style="cursor: pointer;">
            <%= service.storageCount %> <!-- Display the storage count -->
          </td>
          <td>
            <div class="d-flex">
            <button class="view-btn" style="background-color: green;" onclick="window.location.href='/inStock/service/stock-details/<%= service.serviceABV %>'">All Storages</button>
            <button class="view-btn" style="background-color: rgba(0, 187, 255, 0.497);" onclick="window.location.href='/inStock/service/<%= service.serviceABV %>'">Medicaments</button>
            <button class="view-btn" style="background-color: rgba(255, 153, 0, 0.497);" onclick="window.location.href='/demand/demands/<%= service.serviceABV %>'">Demandes internes</button>
          </div>
          </td>
        </tr>
      <% } %>
    </tbody>
  </table>
</div>
